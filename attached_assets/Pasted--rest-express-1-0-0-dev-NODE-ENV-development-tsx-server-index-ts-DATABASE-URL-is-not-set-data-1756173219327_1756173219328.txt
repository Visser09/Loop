
> rest-express@1.0.0 dev
> NODE_ENV=development tsx server/index.ts

DATABASE_URL is not set - database functionality will be limited
OPENAI_API_KEY is not set - AI features will be disabled
1:51:45 AM [express] serving on port 3001
Browserslist: browsers data (caniuse-lite) is 10 months old. Please run:
  npx update-browserslist-db@latest
  Why you should do it regularly: https://github.com/browserslist/update-db#readme
Error fetching user: NeonDbError: Error connecting to database: fetch failed
    at execute (file:///home/runner/workspace/CineLoop/node_modules/@neondatabase/serverless/index.mjs:1549:24)
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async NeonHttpPreparedQuery.execute (/home/runner/workspace/CineLoop/node_modules/src/neon-http/session.ts:68:18)
    at async DatabaseStorage.getUser (/home/runner/workspace/CineLoop/server/storage.ts:559:20)
    at async <anonymous> (/home/runner/workspace/CineLoop/server/routes.ts:49:20) {
  severity: undefined,
  code: undefined,
  detail: undefined,
  hint: undefined,
  position: undefined,
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: undefined,
  line: undefined,
  routine: undefined,
  sourceError: TypeError: fetch failed
      at node:internal/deps/undici/undici:13510:13
      at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
      at async execute (file:///home/runner/workspace/CineLoop/node_modules/@neondatabase/serverless/index.mjs:1548:15)
      at async NeonHttpPreparedQuery.execute (/home/runner/workspace/CineLoop/node_modules/src/neon-http/session.ts:68:18)
      at async DatabaseStorage.getUser (/home/runner/workspace/CineLoop/server/storage.ts:559:20)
      at async <anonymous> (/home/runner/workspace/CineLoop/server/routes.ts:49:20) {
    [cause]: Error: connect ECONNREFUSED 127.0.0.1:443
        at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1611:16) {
      errno: -111,
      code: 'ECONNREFUSED',
      syscall: 'connect',
      address: '127.0.0.1',
      port: 443
    }
  }
}
1:51:49 AM [express] GET /api/auth/user 500 in 52ms :: {"message":"Failed to fetch user"}
1:51:51 AM [express] GET /api/login 405 in 1ms :: {"error":"Use GET /api/auth/user after auth. Loginâ€¦